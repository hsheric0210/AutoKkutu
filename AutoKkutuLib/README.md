# AutoKkutu Library

실질적으로 AutoKkutu의 모든 기능들이 구현되어 있는 라이브러리 코드입니다.
필요하시다면 라이브러리 코드만 불러와서 사용하실 수도 있습니다.

## Dependency Graph

![#](Dependency-Graph.svg)

## TODOs

- [ ] Scrap `DatabaseEvents.cs` and alter it with something better one.
- [ ] Fix potential infinite-loop on `OnlineDictionaryCheckExtension.VerifyWordOnline`

- [ ] Pre-search 기능 지원: 다른 사람이 단어 입력 시 단어칸('jjo-display ellipse')에에 글자 촤르르륵 뜬 다음에 잠시 '띵띵띵' 거릴 동안 이를 미리 읽어들여 데이터베이스 검색을 마쳐 놓으면 내 턴이 왔을 때 부랴부랴 검색을 시작하여 시간 잡아먹을 필요가 없어진다.
        이는 단어가 촤르르륵 입력되는 것이 끝날 시 잠깐동안 글씨에 강조 효과를 주기 위해 폰트사이즈가 2~3번 툭툭 튀는데, 이를 통해서 글자 나열이 끝났다는 것을 감지하면 된다.
- [ ] 데이터베이스 자동 업데이트에서 '(1)새로운 단어 자동 추가 (2)미지원 단어 자동 삭제 (3)새로운 한방 노드 자동 추가' 이 3 가지를 각각 선택하여 켜고 끌 수 있게 변경.
- [ ] '단어 삭제 금지' 옵션 추가: 비록 해당 게임방에서 미지원되는 단어일지라도, 실제로는 지원되는 단어일 수 있음. (어인정 단어, 깐깐 모드 켜짐 등등...) 그러한 경우를 고려하여 비록 지원되지 않는 단어일지라도 '사용 가능 목록'에서만 제거하는 처분을 내리고 데이터베이스 삭제 큐에는 등록하지 않도록 하는 옵션임.
- [ ] 데이터마이닝 기능 추가: 1. 자동으로 게임방을 열고(반드시 '보상 없음' 활성화, 랜덤으로 '어인정', '깐깐', '미션' 활성화/비활성화), 필요하다면 사끄봇 추가하고, 게임 시작하고, 끝나면 결과 창 닫고, 다시 시작하고... 무한반복.
- [ ] SendInput 또는 SendEvent 훅을 이용한 진짜배기 '입력 시뮬레이션' 기능 작성. 단, 이 기능은 Win32 User32 event-dispatching 기반이므로 CefSharp모드에서는 사용하기 어려움. (입력 창이 항상 Focus되어 있어야 하는데, 이를 구현하기가 어려움) 그러기에 일단 Selenium모드에서만 활성화해 놓기.
        구현방법: WM_SETFOCUS + 'Talk'.focus() 사용하여 채팅창에 키보드 포커스 후 SendInput 또는 WM_KEYDOWN 메시지를 통해 키보드 입력.
## 안티 치트 개발자들을 위한 약간의 팁

지금 현재 구현체에 의하면 채팅창에 단어를 입력할 때 onkeydown, onkeypress, onkeyup 이벤트가 호출되지 않습니다. 이를 이용하면 자동 입력을 원천 봉쇄할 수 있습니다! (물론, 접근성 또는 입력 보조 유틸리티와의 호환성은 보장 못함)
물론 이 문제는 직접 윈도우 상에서 키보드 입력 자체를 시뮬레이션함으로써 완전히 해결할 수 있으나, 이를 구현하려 여러 번 시도할 때마다 키보드 입력 시뮬레이션 시 IME와의 작동 호환성 관련 문제로 골머리를 썩고 있습니다.
